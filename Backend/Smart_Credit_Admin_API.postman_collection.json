{
  "info": {
    "_postman_id": "smart-credit-admin-api",
    "name": "Smart Credit+ Admin API",
    "description": "Complete API collection for Smart Credit+ Admin User Management System",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Admin Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@gmail.com\",\n  \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "http://localhost:3000/auth/admin/login",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["auth", "admin", "login"]
            },
            "description": "Login endpoint for admin users. Returns JWT token and user info."
          }
        },
        {
          "name": "Auth Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/auth/ping",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["auth", "ping"]
            },
            "description": "Health check endpoint to verify auth service is running."
          }
        }
      ]
    },
    {
      "name": "User Management",
      "item": [
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/admin/users",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "users"]
            },
            "description": "Retrieve all users from the system. Returns sanitized user data (excludes passwordHash)."
          }
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/admin/users/sENbwBesC03DXcqkQEzz",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "users", "sENbwBesC03DXcqkQEzz"]
            },
            "description": "Get specific user details by their ID. Replace the ID in the URL with actual user ID."
          }
        },
        {
          "name": "Suspend User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"sENbwBesC03DXcqkQEzz\",\n  \"reason\": \"Multiple payment violations\"\n}"
            },
            "url": {
              "raw": "http://localhost:3000/admin/users/suspend",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "users", "suspend"]
            },
            "description": "Suspend a user account. Sets status to 'suspended' and records suspension reason."
          }
        },
        {
          "name": "Activate User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"sENbwBesC03DXcqkQEzz\"\n}"
            },
            "url": {
              "raw": "http://localhost:3000/admin/users/activate",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "users", "activate"]
            },
            "description": "Activate a suspended user account. Sets status to 'active' and removes suspension fields."
          }
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/admin/users/B9gkhn6B4mS4Y6UfhRH9",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "users", "B9gkhn6B4mS4Y6UfhRH9"]
            },
            "description": "Permanently delete a user from the system. Replace the ID with actual user ID."
          }
        }
      ]
    },
    {
      "name": "KYC Verification",
      "item": [
        {
          "name": "Get Pending KYC Documents",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/admin/kyc/pending",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "kyc", "pending"]
            },
            "description": "Retrieve all pending KYC documents that need admin review. Returns documents with status='pending'."
          }
        },
        {
          "name": "Get User KYC Documents",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/admin/kyc/sENbwBesC03DXcqkQEzz/documents",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "kyc", "sENbwBesC03DXcqkQEzz", "documents"]
            },
            "description": "Get all KYC documents for a specific user. Replace the userId in the path with actual user ID."
          }
        },
        {
          "name": "Approve KYC Document",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Document verified successfully. All details are clear and valid.\"\n}"
            },
            "url": {
              "raw": "http://localhost:3000/admin/kyc/kyc-doc-003/approve",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "kyc", "kyc-doc-003", "approve"]
            },
            "description": "Approve a pending KYC document. Sets status to 'approved', adds notes and reviewedAt timestamp. Replace documentId in path."
          }
        },
        {
          "name": "Reject KYC Document",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Document quality is poor. Please submit a clearer scan with all corners visible.\"\n}"
            },
            "url": {
              "raw": "http://localhost:3000/admin/kyc/kyc-doc-010/reject",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "kyc", "kyc-doc-010", "reject"]
            },
            "description": "Reject a pending KYC document. Sets status to 'rejected', adds rejection reason and reviewedAt timestamp. Replace documentId in path."
          }
        }
      ]
    },
    {
      "name": "Error Scenarios",
      "item": [
        {
          "name": "Invalid Login (401)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"wrong@email.com\",\n  \"password\": \"wrongpassword\"\n}"
            },
            "url": {
              "raw": "http://localhost:3000/auth/admin/login",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["auth", "admin", "login"]
            },
            "description": "Test invalid login credentials - Returns 401 Unauthorized"
          }
        },
        {
          "name": "User Not Found (404)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/admin/users/INVALID_USER_ID_12345",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "users", "INVALID_USER_ID_12345"]
            },
            "description": "Test with non-existent user ID - Returns 404 Not Found"
          }
        },
        {
          "name": "Validation Error (400)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Missing userId field\"\n}"
            },
            "url": {
              "raw": "http://localhost:3000/admin/users/suspend",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "users", "suspend"]
            },
            "description": "Test validation error by missing required field - Returns 400 Bad Request"
          }
        }
      ]
    }
  ]
}